:root {
  --bg: #f6e4e7;
  --panel: #ffffff;
  --text: #222222;
  --muted: #6b7280;
  --shadow: 0 8px 20px rgba(0, 0, 0, .08);
  --radius: 16px;
  --purple: #6b56ff;
  --green: #10b981;
  --red: #ef4444;
  --ring: #e9edf1;
}

/* Dark mode */
.dark {
  --bg: #5a5859;
  --panel: #2a2a2a;
  --text: #f1f5f9;
  --muted: #9ca3af;
  --purple: #8a7cff;
  --green: #34d399;
  --red: #f87171;
  --ring: #3b3b3b;
}

* { box-sizing: border-box }

html, body { height: 100% }

body {
  margin: 0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto;
  background: var(--bg);
  color: var(--text);
}

.app { display: flex; min-height: 100vh }

.iconham {
  width: 24px;
  height: 24px;
  box-shadow: none;
  border-radius: 0;
}

/* ===== MAIN WRAPPER ===== */
.main { flex: 1; padding: 26px 28px 40px }

/* กล่องกลางของหน้า dashboard */
.dashboard-content {
  width: 100%;
  background: var(--panel);
  border-radius: 18px;
  box-shadow: 0 18px 40px rgba(0,0,0,.10), 0 2px 6px rgba(0,0,0,.06);
  padding: 20px 24px 28px;
  margin: 0 auto;
}

/* ===== TOPBAR ===== */
.fc-topbar {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 8px;
}

.fc-title h1 { margin: 0; font-size: 28px }
.fc-title p { margin: 6px 0 0; color: var(--muted) }
.fc-back { font-size: 22px; opacity: .8; cursor: pointer }

/* ===== SEGMENT + FILTERS ===== */
.row-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin: 8px 0 14px;
}

.fc-segment {
  display: flex;
  gap: 6px;
  background: rgba(0,0,0,.06);
  padding: 4px;
  border-radius: 999px;
}

.seg {
  appearance: none;
  border: none;
  background: transparent;
  padding: 8px 14px;
  border-radius: 999px;
  font-weight: 700;
  cursor: pointer;
}

.seg.active {
  background: var(--green);
  color: #fff;
  box-shadow: 0 4px 12px rgba(16,185,129,.35);
}

/* ตัวกรองเดือน */
.fc-filters { display: flex; gap: 10px }

.fc-filter select {
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid var(--ring);
  background: #fff;
  font-weight: 600;
  min-width: 160px;
}

/* ===== BOARD ===== */
.fc-board {
  background: #fff;
  border: 1px solid var(--ring);
  border-radius: 16px;
  padding: 18px;
  margin-bottom: 18px;
}

/* ===== DONUT (tab: category) ===== */
.donut-wrap {
  display: flex;
  gap: 30px;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
}

.donut {
  width: 300px; height: 300px;
  border-radius: 50%;
  position: relative;
  box-shadow: inset 0 0 0 12px #fff;
}

.donut-hole {
  position: absolute;
  inset: 50% auto auto 50%;
  transform: translate(-50%,-50%);
  width: 172px; height: 172px;
  background: #fff;
  border-radius: 50%;
  display: grid;
  place-items: center;
}

.donut-label { font-size: 28px; font-weight: 800 }

.legend {
  list-style: none;
  margin: 0; padding: 0;
  display: grid; gap: 10px;
  min-width: 220px;
}

.legend li {
  display: flex; gap: 10px;
  align-items: center;
  font-weight: 600;
}

.legend .dot {
  width: 12px; height: 12px;
  border-radius: 50%;
}

/* total card */
.fc-total {
  margin: 16px auto 8px;
  max-width: 420px;
  width: 100%;
  background: #fff;
  border: 1px solid var(--ring);
  border-radius: 12px;
  display: flex;
  gap: 12px;
  align-items: center;
  padding: 12px 14px;
  box-shadow: 0 1px 0 rgba(0,0,0,.02), 0 8px 20px rgba(0,0,0,.05);
}

.fc-total .pig { font-size: 26px }
.fc-total .label { font-size: .9rem; color: var(--muted) }
.fc-total .value { font-size: 20px; font-weight: 800 }

.fc-date, .fc-sub {
  text-align: center;
  color: var(--muted);
  font-size: .9rem;
}

/* ===== BAR CHART (tab: summary) ===== */
.bar-head { margin-bottom: 10px }

.bars-wrap {
  display: grid; gap: 14px;
  padding: 8px 6px 0;
  height: 300px;
  align-items: end;
}

.bar-col {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  height: 100%;
  min-width: 48px;
}

.bar-stack {
  display: flex;
  gap: 6px;
  align-items: flex-end;
  height: 100%;
  flex: 1;
  min-height: 220px;
}

.bar {
  width: 16px;
  border-radius: 6px 6px 0 0;
  display: block;
}

.bar.income { background: #16a34a }
.bar.expense { background: #e11d48 }
.bar-label { font-size: .85rem; color: #6b7280 }

/* mini totals */
.totals-row {
  display: flex;
  gap: 12px;
  justify-content: center;
  margin: 14px 0 6px;
  flex-wrap: wrap;
}

.mini-total {
  display: flex;
  gap: 10px;
  align-items: center;
  background: #fff;
  border: 1px solid var(--ring);
  border-radius: 10px;
  padding: 10px 12px;
}

.mini-ic { font-size: 18px }
.mini-title { font-size: .85rem; color: var(--muted) }
.mini-value { font-weight: 800 }

/* month summary list */
.month-list {
  margin-top: 18px;
  display: grid;
  gap: 14px;
}

.year-title { margin: 0 0 6px 6px }
.month-card {
  background: #fff;
  border: 1px solid var(--ring);
  border-radius: 16px;
  padding: 16px 18px;
}
.month-head { font-weight: 800; margin-bottom: 8px }

.month-line {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  padding: 6px 0;
}

.green { color: var(--green) }
.red { color: var(--red) }

/* ===== Category List ===== */
.fc-list { width: 100%; margin: 8px 0 }

.fc-list .row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 14px 16px;
  background: #fff;
  border-radius: 12px;
  border: 1px solid var(--ring);
  cursor: pointer;
  text-align: left;
}
.fc-list .row:hover { background: #f9fafb }

.fc-list .left {
  display: flex;
  align-items: center;
  gap: 10px;
}

.fc-list .name { font-weight: 600 }

.fc-list .right {
  display: flex;
  align-items: center;
  gap: 12px;
}

.fc-list .right .meta {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
}

.fc-list .amount {
  font-weight: 700;
  font-size: 15px;
  color: #b91c1c;
}

.fc-list .percent {
  font-size: 13px;
  color: var(--muted);
}

.fc-list .chev {
  font-size: 18px;
  color: var(--muted);
}

/* ===== รายละเอียดธุรกรรม/หมวด ===== */
.detail-table-wrap {
  width: 100%;
  overflow-x: auto;
}

.detail-table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
}

.detail-table th,
.detail-table td {
  padding: 8px 10px;
  border-bottom: 1px solid var(--ring);
  vertical-align: top;
  line-height: 1.35;
}

.detail-table th {
  text-align: left;
  color: var(--muted);
  font-weight: 600;
}

/* Desktop: Date 22 | Note 58 (กลาง) | Amount 20 */
.detail-table .col-date { width: 22% }
.detail-table .col-note {
  width: 58%;
  word-break: break-word;
  padding-right: 8px;
  text-align: center;
}
.detail-table .col-amt {
  width: 20%;
  text-align: right;
  white-space: nowrap;
  color: #b91c1c;
}

/* <900px */
@media (max-width: 900px) {
  .detail-table th,
  .detail-table td { padding: 8px }
  .detail-table .col-date { width: 26% }
  .detail-table .col-note { width: 52%; text-align: center }
  .detail-table .col-amt { width: 22% }
}

/* <680px */
@media (max-width: 680px) {
  .detail-table th,
  .detail-table td { padding: 6px 8px }
  .detail-table .col-date { width: 30% }
  .detail-table .col-note { width: 48%; text-align: center }
  .detail-table .col-amt { width: 22% }
}

/* ===== Responsive ===== */
@media (max-width: 900px) {
  .bars-wrap { height: 260px }
  .bar-stack { min-height: 200px }
  .donut { width: 260px; height: 260px }
  .donut-hole { width: 140px; height: 140px }
}

@media (max-width: 680px) {
  .row-head { flex-direction: column; align-items: flex-start; gap: 10px }
  .bars-wrap { height: 220px }
  .bar-stack { min-height: 180px }
  .bar { width: 14px }
  .donut { width: 240px; height: 240px }
  .donut-hole { width: 130px; height: 130px }
  .fc-total { max-width: none; width: 100% }
}
