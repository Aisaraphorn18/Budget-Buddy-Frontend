/* =========================
   THEME TOKENS (เหมือนหน้าอื่น)
   ========================= */
:root{
  --bg:#f6e4e7;
  --panel:#ffffff;
  --text:#1f2937;
  --muted:#6b7280;
  --shadow:0 10px 30px rgba(0,0,0,.10);
  --radius:16px;
  --purple:#7c6cff;
  --green:#10b981;
  --red:#ef4444;
  --border: rgba(0,0,0,.08);
  /* alias ให้โค้ดเก่าที่ยังใช้ --ring */
  --ring: var(--border);
}
.dark{
  --bg:#525253;
  --panel:#424344;
  --text:#e5e7eb;
  --muted:#9aa3b2;
  --shadow:0 16px 36px rgba(0,0,0,.45);
  --purple:#9d8cff;
  --green:#34d399;
  --red:#f87171;
  --border: rgba(255,255,255,.10);
  --ring: var(--border);
}

/* =========================
   PAGE SCOPE
   ========================= */
.report-page{ background: var(--bg); min-height:100vh }
.report-page .main{ flex:1; padding:26px 28px 40px }
.report-page .iconham{ width:24px; height:24px }
.dark .report-page .iconham{ filter: invert(1) brightness(.95) }

/* Toggle สไตล์ให้เหมือนหน้าอื่น */
.report-page .toggle{ margin-left:auto; position:relative; width:58px; height:30px; display:inline-block }
.report-page .toggle input{ display:none }
.report-page .toggle-slider{
  position:absolute; inset:0; border-radius:999px;
  display:flex; align-items:center; justify-content:center;
  font-size:16px; cursor:pointer; color:#fff;
  background: linear-gradient(90deg, #7c6cff, #b8adff);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.2);
}
.dark .report-page .toggle-slider{
  background: linear-gradient(90deg, #6c5cff, #9d8cff);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.25);
}

/* กล่องหลัก */
.report-page .dashboard-content{
  width:100%;
  background: var(--panel);
  border:1px solid var(--border);
  border-radius:18px;
  box-shadow: var(--shadow);
  padding:20px 24px 28px;
  margin:0 auto;
  color: var(--text);
}

/* Topbar */
.report-page .fc-topbar{
  display:flex; align-items:flex-start; justify-content:space-between;
  gap:12px; margin-bottom:8px;
}
.report-page .fc-title h1{ margin:0; font-size:28px; color:var(--text) }
.report-page .fc-title p{ margin:6px 0 0; color:var(--muted) }
.report-page .fc-back{ font-size:22px; opacity:.8; cursor:pointer }

/* Segment + Filters */
.report-page .row-head{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; margin:8px 0 14px;
}
.report-page .fc-segment{
  display:flex; gap:6px; background: rgba(0,0,0,.06);
  border:1px solid var(--border); padding:4px; border-radius:999px;
}
.dark .report-page .fc-segment{ background: rgba(255,255,255,.06) }
.report-page .seg{
  appearance:none; border:none; background:transparent;
  padding:8px 14px; border-radius:999px; font-weight:700; cursor:pointer; color:var(--text);
}
.report-page .seg.active{
  background: var(--green); color:#fff;
  box-shadow: 0 4px 12px rgba(16,185,129,.35);
}
.report-page .fc-filters{ display:flex; gap:10px }
.report-page .fc-filter select{
  padding:8px 12px; border-radius:10px;
  border:1px solid var(--border);
  background: var(--panel); color: var(--text); font-weight:600; min-width:160px;
}

/* Board */
.report-page .fc-board{
  background: var(--panel);
  border:1px solid var(--border);
  border-radius:16px;
  padding:18px; margin-bottom:18px; color: var(--text);
}

/* Donut */
.report-page .donut-wrap{ display:flex; gap:30px; align-items:center; justify-content:center; flex-wrap:wrap }
.report-page .donut{
  width:300px; height:300px; border-radius:50%;
  position:relative; box-shadow: inset 0 0 0 12px var(--panel);
}
.report-page .donut-hole{
  position:absolute; inset:50% auto auto 50%; transform:translate(-50%,-50%);
  width:172px; height:172px; background: var(--panel); border-radius:50%;
  display:grid; place-items:center; color: var(--text);
}
.report-page .donut-label{ font-size:28px; font-weight:800 }
.report-page .legend{ list-style:none; margin:0; padding:0; display:grid; gap:10px; min-width:220px; color:var(--text) }
.report-page .legend li{ display:flex; gap:10px; align-items:center; font-weight:600 }
.report-page .legend .dot{ width:12px; height:12px; border-radius:50% }

/* Total card */
.report-page .fc-total{
  margin:16px auto 8px; max-width:420px; width:100%;
  background: var(--panel); color: var(--text);
  border:1px solid var(--border); border-radius:12px;
  display:flex; gap:12px; align-items:center;
  padding:12px 14px; box-shadow: 0 1px 0 rgba(0,0,0,.02), 0 8px 20px rgba(0,0,0,.05);
}
.report-page .fc-total .label{ font-size:.9rem; color:var(--muted) }
.report-page .fc-total .value{ font-size:20px; font-weight:800 }
.report-page .fc-date, .report-page .fc-sub{ text-align:center; color:var(--muted); font-size:.9rem }

/* Bar chart */
.report-page .bar-head{ margin-bottom:10px }
.report-page .bars-wrap{ display:grid; gap:14px; padding:8px 6px 0; height:300px; align-items:end }
.report-page .bar-col{ display:flex; flex-direction:column; align-items:center; gap:8px; height:100%; min-width:48px }
.report-page .bar-stack{ display:flex; gap:6px; align-items:flex-end; height:100%; flex:1; min-height:220px }
.report-page .bar{ width:16px; border-radius:6px 6px 0 0; display:block }
.report-page .bar.income{ background:#16a34a }
.report-page .bar.expense{ background:#e11d48 }
.report-page .bar-label{ font-size:.85rem; color:var(--muted) }

/* Mini totals */
.report-page .totals-row{ display:flex; gap:12px; justify-content:center; margin:14px 0 6px; flex-wrap:wrap }
.report-page .mini-total{
  display:flex; gap:10px; align-items:center;
  background: var(--panel); border:1px solid var(--border);
  border-radius:10px; padding:10px 12px; color: var(--text);
}
.report-page .mini-title{ font-size:.85rem; color:var(--muted) }
.report-page .mini-value{ font-weight:800 }

/* Month summary list */
.report-page .month-list{ margin-top:18px; display:grid; gap:14px }
.report-page .year-title{ margin:0 0 6px 6px; color: var(--text) }
.report-page .month-card{
  background: var(--panel); border:1px solid var(--border);
  border-radius:16px; padding:16px 18px; color: var(--text);
}
.report-page .month-head{ font-weight:800; margin-bottom:8px }
.report-page .month-line{ display:flex; justify-content:space-between; gap:12px; padding:6px 0 }
.report-page .green{ color: var(--green) }
.report-page .red{ color: var(--red) }

/* Category List */
.report-page .fc-list{ width:100%; margin:8px 0 }
.report-page .fc-list .row{
  display:flex; justify-content:space-between; align-items:center; width:100%;
  padding:14px 16px; background: var(--panel); color: var(--text);
  border-radius:12px; border:1px solid var(--border); cursor:pointer; text-align:left;
}
.report-page .fc-list .row:hover{ background: rgba(0,0,0,.02) }
.dark .report-page .fc-list .row:hover{ background: rgba(255,255,255,.04) }
.report-page .fc-list .left{ display:flex; align-items:center; gap:10px }
.report-page .fc-list .name{ font-weight:600 }
.report-page .fc-list .right{ display:flex; align-items:center; gap:12px }
.report-page .fc-list .right .meta{ display:flex; flex-direction:column; align-items:flex-end }
.report-page .fc-list .amount{ font-weight:700; font-size:15px; color: var(--red) }
.report-page .fc-list .percent{ font-size:13px; color: var(--muted) }
.report-page .fc-list .chev{ font-size:18px; color: var(--muted) }

/* Detail table */
.report-page .detail-table-wrap{ width:100%; overflow-x:auto }
.report-page .detail-table{ width:100%; border-collapse:collapse; table-layout:fixed; color: var(--text) }
.report-page .detail-table th,
.report-page .detail-table td{
  padding:8px 10px; border-bottom:1px solid var(--border); vertical-align:top; line-height:1.35;
}
.report-page .detail-table th{ text-align:left; color:var(--muted); font-weight:600 }
.report-page .detail-table .col-date{ width:22% }
.report-page .detail-table .col-note{ width:58%; word-break:break-word; padding-right:8px; text-align:center }
.report-page .detail-table .col-amt{ width:20%; text-align:right; white-space:nowrap; color: var(--red) }

/* Responsive widths */
@media (max-width:900px){
  .report-page .detail-table th,
  .report-page .detail-table td{ padding:8px }
  .report-page .detail-table .col-date{ width:26% }
  .report-page .detail-table .col-note{ width:52% }
  .report-page .detail-table .col-amt{ width:22% }
}
@media (max-width:680px){
  .report-page .row-head{ flex-direction:column; align-items:flex-start; gap:10px }
  .report-page .bars-wrap{ height:220px }
  .report-page .bar-stack{ min-height:180px }
  .report-page .bar{ width:14px }
  .report-page .donut{ width:240px; height:240px }
  .report-page .donut-hole{ width:130px; height:130px }
  .report-page .fc-total{ max-width:none; width:100% }
  .report-page .detail-table th,
  .report-page .detail-table td{ padding:6px 8px }
  .report-page .detail-table .col-date{ width:30% }
  .report-page .detail-table .col-note{ width:48% }
  .report-page .detail-table .col-amt{ width:22% }
}
